---
title: Accordion
description: A collapsable Accordion component
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 4
---

A commonly used interface component is an Accordion.   The user sees a list of titles with an icon opposite the title text.  Clicking on the header smoothly reveals additional content directly below the header.  The icon rotates to indicate the open/closed state of the Accordion.

An example Accordion control written in Hyperscript is shown below.

## Example

export const tw = {
	exampleContainer: 'not-content w-full pb-4 w-max-lg text-center mx-auto bg-gray-300 dark:bg-gray-800 rounded-xl my-6',
	exampleTitle: 'bg-gray-300 dark:bg-sky-900 text-gray-300 dark:text-zinc-200 font-semibold py-2 mb-4 rounded-t-xl',
	menuItem: 'px-4 hover:bg-stone-200 hover:dark:bg-stone-300 ' +
	'hover:text-cyan-100 hover:dark:text-sky-800',
	icon:'inline-block size-6',
	image: 'inline-block max-h-6',
	p: 'pb-3'	
}

<div id='accordion-example' class={tw.exampleContainer} >
<div id='accordion-title' class={tw.exampleTitle}>Sample Accordion Control</div>

import AccordionGroup_A from '../../../../components/AccordionGroup_A.astro'
import AccordionItem_A from '../../../../components/AccordionItem_A.astro'



<AccordionGroup_A closeSiblings={true} styles='mx-4'>
	<AccordionItem_A id='accordion-1' caption="HTMX" >
		<p class={tw.p}>
		HTMX extends html with a suite of attributes giving any element the ability to send and respond to AJAX request.   
		</p>
	</AccordionItem_A>

	<AccordionItem_A id='accordion-2' caption='Hyperscript'>
		<p class={tw.p}>
			Hyperscript is a front-end scripting language which leverages robust event handling to bring dynamic user interfaces to the browser.
		</p>
		<p class={tw.p}>
		Hyperscript syntax is based on Dan Winkler's HyperTalk language made famous by Apple's HyperCard program.   The syntax boasts an English-prose like grammar which eases the learning curve for new programmers.
		</p>
	</AccordionItem_A>

	<AccordionItem_A id='accordion-3' caption='Tailwind CSS'>
		<p class={tw.p}>
			The Tailwind CSS library provides a rich ecosystem of utility classes that simplify responsive design by using prefixes to replace media queries and emphasizing mobile first design.
		</p>
		<p class={tw.p}>
		Lorem, ipsum dolor sit amet consectetur adipisicing elit. Commodi, unde nostrum itaque aut explicabo deserunt vel sunt alias? Atque, a eveniet ad rerum labore deleniti tempora nisi commodi officiis quis eius perferendis.
		</p>
		<p class={tw.p}>
		Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis consectetur illum quis ipsam quos quidem eligendi ex blanditiis nihil temporibus veniam adipisci deleniti modi, facilis amet fugiat incidunt atque neque aut qui quia reprehenderit magni fugit aliquam. Hic dolorem consectetur qui libero eius commodi natus, quod fuga tenetur, non doloremque unde at impedit vero. Beatae quas excepturi dignissimos est assumenda quidem ullam quisquam labore! Quaerat veritatis ex sint similique veniam quidem numquam doloremque officiis et accusantium! Non nesciunt ea itaque explicabo ipsa blanditiis iusto, est deserunt inventore voluptas dolorem possimus at exercitationem aliquid, distinctio similique quae! Perferendis ipsam excepturi repudiandae.
		</p>
	</AccordionItem_A>

<AccordionItem_A id='accordion-4' caption='Astro'>
	<p class={tw.p}>
		Astro is a modern Vite-based build tool meant for speed which ships zero JavaScript by default.  Initially released with support for static site generation, now Astro delivers a full suite of server rendered features.
	</p>
</AccordionItem_A>

</AccordionGroup_A>

</div>


## Description

Accordions conserve screen real estate while still allowing considerable content to be displayed when needed.

In the collapsed state, the the height of the accordion body is initially set to 0.  In response to a click event, the accordion smoothly transitions to an open state by setting a final height and a transition animation. From a programming standpoint, the key is calculating the final height of the accordion body based on the proposed content.  

If too much content is loaded into the Accordion body, a huge vertical shift occurs on the page which is distracting.   Thus it is best to set a max-height after which extra content simply scrolls vertically.

The following is a Hyperscript implementation of an Accordion control.

## Features

1.  Clicking the header toggles the body open and closed.
2.  An indicator icon  rotates 180 degrees to indicate open/closed state
3.  Body content is animated smoothly using a Hyperscript transition
4.  A max-height value for the Accordion body can be set by props
5.  Tailwind classes for the header, body, and active header (when opened) can be passed into the AccordionGroup_A component to style the entire component from outside.
6.  Content for the Accordion body is passed into the default slot and thus can be styled where it is used. 

## Components

The AccordionGroup_A component wraps a list of AccordionItem_A components. 

Here is the code for the parent wrapper AccordionGroup_A component.

```astro title="AccordionGroup_A.astro"
---
import {twMerge} from 'tailwind-merge'

interface Props {
	closeSiblings:boolean,
	styles?:string
}

const {closeSiblings = false, styles} = Astro.props

const tw = {
 group: twMerge('mx-auto', styles),
}

const hs =
 `on closeOpenAccordions
	 if ${closeSiblings} is true
		 set allAccordions to the <li/> in me
		 set allHeaders to the <button/> in allAccordions
		 for header in allHeaders
			 if header is not sender
				 send closeAccordion to header
		 end -- for
	 end -- if closeSiblings
 end -- closeOpenAccordions
`

---
	
<ul class={tw.group} script={hs}>
 <slot />
</ul>
```


Each group receives a series of AccordionItem_A components as children by placing them inside the parent component using the default slot.

Here is the code for the AccordionItem_A component.

```astro title="AccordionItem_A.astro"
---
import {twMerge} from 'tailwind-merge'

interface Props {
	id:string,
	caption:string,
	prefix?:string
	maxHeight:number
	headerStyles?:string
	bodyStyles?:string
	activeHeaderStyles?:string
}
const {
	id, 
	caption, 
	prefix='- ',
	maxHeight=300,
	headerStyles,
	bodyStyles,
	activeHeaderStyles = 'bg-orange-100 dark:bg-blue-950',
} = Astro.props

const defaultOverscrollHeight = 200
const defaultDuration = 200

const tw = {
	wrapper:'shadow-lg overflow-hidden ' + 
	'border-4 border-b-0 last-of-type:border-b-4 border-indigo-500 border-opacity-20  dark:border-gray-700 ' + 
	'first-of-type:rounded-t-xl last-of-type:rounded-b-xl',
	accordionHeader: twMerge('w-full flex justify-between items-center px-2 py-5 cursor-pointer ' +
		'font-bold text-lg text-left text-gray-900 dark:text-zinc-300 ' +
		'bg-blue-100 hover:bg-sky-950 hover:text-yellow-50 ' +
		'dark:bg-slate-900 dark:hover:bg-purple-950 dark:hover:text-fuchsia-100 ' + 
		'', headerStyles),
	accordionBody: twMerge('h-0 px-6 text-left  border-zinc-300 ' + 
		' bg-gray-100 text-slate-800 dark:bg-violet-50 dark:text-gray-900', bodyStyles),
	icon: 'size-6 shrink-0'
}

function formatTWClasses(twClasses) {
    return twClasses.split(' ').map(twClass => '.' + twClass).join(' ');
}

const activeStyles = formatTWClasses(activeHeaderStyles)

const hs = `
	init
		set :accordionHeight to 0
		set :accordionOpen to false
		set :accordionBody to my @id + '-body'
		set :twirlIcon to my @id + '-twirl-icon'
		set accordionContent to the children of the #{:accordionBody}
		for item in accordionContent 
			increment :accordionHeight by the item's offsetHeight
		end -- for
		increment :accordionHeight by 45  -- to accomodate for py-4 
	end -- init

	on click from me
		if :accordionOpen is true then trigger closeAccordion on me
		otherwise trigger openAccordion on me
		end 
	end -- click

	on openAccordion
		add ${activeStyles} to me
		add .py-4 .border-t-2 to the  #{:accordionBody}
		if the :accordionHeight is greater than 300
			transition the #{:accordionBody}'s  *height to 300px using 'all 260ms ease-in'
			add .overflow-y-auto to the #{:accordionBody}
		otherwise
			transition the #{:accordionBody} *height to :accordionHeight px using 'all 260ms ease-in'
		end -- if > 300 px
		add .rotate-180 to the #{:twirlIcon}
		set :accordionOpen to true
		send closeOpenAccordions to the closest <ul/>
	end -- openAccordion

	on closeAccordion
		remove ${activeStyles} from me
		remove .py-4 .border-t-2 from the #{:accordionBody}
		remove .rotate-180 from the #{:twirlIcon}
		transition the #{:accordionBody} *height to 0 using 'all 400ms ease-out'
		set :accordionOpen to false
	end -- closeAccordion
`



/* Transition calls and toggle .rotate-180 gives an error when using an element reference stored in local variable
You must provide an actual selector instead.

If you add padding to the default styles, the accordion accordionBody has a height equal to the padding
even if you set h-0.   So, padding must be added/removed for the accordion accordionBody to close up fully.
The recalcHeight of accordion accordionBody must also take in account the vertical padding value*/
---


<li class={tw.wrapper}>

	<!-- Accordion Header -->
	<button 
		id={id} 
		class={tw.accordionHeader} 
		script={hs}>
			<span>{prefix}{caption}</span>
			<!-- TwirlIcon -->
		<svg id={`${id}-twirl-icon`} class={tw.icon} fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'>
				<path fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'></path>
			</svg>
	</button>

	<!-- Accordion accordionBody -->
	<div 	id={`${id}-body`} class={tw.accordionBody}>
		<slot />
	</div>

</li> 

```

## Props

### AccordionGroup

Both the AccordionGroup_A and AccordionItem_A components can be configured from the point of usage by props.

#### closeSiblings

Use this prop to signal if opening an Accordion causes other Accordions to close.

The default value is `false`.  Passing `true` will trigger a custom `closeOpenAccordions` event to be fired.  All Accordions except the one sending this event will be closed

#### styles

This prop takes a string containing any Tailwind classes of your choosing.   These classes will be merged with AccordionGroup_A's default styles (which you find in the [Code](#code) section below.

TW classes passed in the `styles` prop alter the appearance of the group, such as border appearance, width, margins, etc.

### AccordionItem

#### id

Each AccordionItem_A should have a unique id.  This is used to help manage the accordion state.

#### caption

The caption is the text that appears in the accordion header.

#### prefix

This is a string that is prepended to the caption.  The default is `- `

#### maxHeight

This prop sets the maximum height of the accordion body.  The default is `300`.

#### headerStyles

This prop takes a string containing any Tailwind classes of your choosing.   These classes will be merged with AccordionGroup_A's default styles (which you find in the [Code](#code) section below.

#### bodyStyles

This prop takes a string containing any Tailwind classes of your choosing.   These classes will be merged with AccordionGroup_A's default styles (which you find in the [Code](#code) section below.

#### activeHeaderStyles

This prop takes a string containing any Tailwind classes of your choosing.   These classes will be merged with AccordionGroup_A's default styles (which you find in the [Code](#code) section below.

### AccordionGroup_A


```js title = "Props for AccordionGroup_A"

interface Props {
	closeSiblings?:boolean,
	styles?:string
}

const {
	closeSiblings = false, 
	styles
} = Astro.props

```


	### AccordionItem_A

```js title="Props for AccordionItem_A"

interface Props {
	id:string,
	caption:string,
	prefix?:string
	maxHeight:number
	headerStyles?:string
	bodyStyles?:string
	activeHeaderStyles?:string
}
const {
	id, 
	caption, 
	prefix='- ',
	maxHeight=300,
	headerStyles,
	bodyStyles,
	activeHeaderStyles = 'bg-orange-100 dark:bg-blue-950',
} = Astro.props
```

## Styling


## Transitions

## Slots

## Code

### AccordionGroup_A



This Accordion example consists of a wrapper (AccordionGroup_A) which contains a default slot into which multiple AccordionItems (AccordionItem_A) are placed.

A minimal set of default styles are provided but can be overridden or added to by passing additional TW classes to the `styles` prop.

import {Tabs, TabItem } from '@astrojs/starlight/components'

<Tabs>
<TabItem label="Props">
```js

interface Props {
	closeSiblings?:boolean,   //all other Accordions sent a closeOpenAccordions event
	styles?:string   //override or add TW classes for stying the Group
}

const {
	closeSiblings = false, 
	styles
} = Astro.props

```
</TabItem>

<TabItem label="HTML">
```html
<ul class={tw.group} script={hs}>
	<slot />
</ul>
```
</TabItem>


<TabItem label="Scripts">
```js

const hs =
 `on closeOpenAccordions
	 if ${closeSiblings} is true
		 set allAccordions to the <li/> in me
		 set allHeaders to the <button/> in allAccordions
		 for header in allHeaders
			 if header is not sender
				 send closeAccordion to header
		 end -- for
	 end -- if closeSiblings
 end -- closeOpenAccordions
`

```
</TabItem>
<TabItem label="Tailwind">
```js

const tw = {
 group: twMerge('mx-auto', styles),
}

```
</TabItem>

<TabItem label="Everything">

```astro
---
import {twMerge} from 'tailwind-merge'

interface Props {
	closeSiblings?:boolean,   //all other Accordions sent a closeOpenAccordions event
	styles?:string   //override or add TW classes for stying the Group
}

const {
	closeSiblings = false, 
	styles
} = Astro.props

const tw = {
 group: twMerge('mx-auto', styles),
}

const hs =
 `on closeOpenAccordions
	 if ${closeSiblings} is true
		 set allAccordions to the <li/> in me
		 set allHeaders to the <button/> in allAccordions
		 for header in allHeaders
			 if header is not sender
				 send closeAccordion to header
		 end -- for
	 end -- if closeSiblings
 end -- closeOpenAccordions
`

---
	
<ul class={tw.group} script={hs}>
	<slot />
</ul>

```
</TabItem>
</Tabs>


### AccordionItem_A

Each Accordion Group should receive multiple AccordioItems between the parent tags which are then placed into the default slot.

Each AccordionItem_A consists of a list item  with a trigger button  and a div  which holds the actual body content.

Content for the body is passed into the default slot of the AccordionItem_A.

Below is the code for the AccordionItem_A component.


<Tabs>
<TabItem label="Props">

```js

interface Props {
	id:string,   //a unique identifier allowing multiple AccordionItems on a page without collisions
	caption:string,   //the text display in the Accordion header
	prefix?:string   //a tick mark preceeding the caption
	maxHeight:string  //maximum open height (after which the body content scrolls vertically)
	headerStyles?:string   //override or add TW classes to  the header
	bodyStyles?:string   //override or add TW classes to the body
	activeHeaderStyles?:string //override, add, remove TW classes for headers of opened Accordions
	openDuration?:string   //transition timing when showing body content
	closeDuration?:string  //transition timing when hiding body content
}
const {
	id, 
	caption, 
	prefix='- ',
	maxHeight='300px',
	headerStyles,
	bodyStyles,
	activeHeaderStyles = 'bg-orange-100 dark:bg-blue-950',
	openDuration='260ms',
	closeDuration='400ms'
} = Astro.props


```
</TabItem>

<TabItem label="HTML">

```html
<li class={tw.wrapper}>

	<!-- Accordion Header -->
	<button 
		id={id} 
		class={tw.accordionHeader} 
		script={hs}>
			<span>{prefix}{caption}</span>
			<!-- TwirlIcon -->
			<svg id={`${id}-twirl-icon`} class={tw.icon} fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'>
					<path fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'></path>
				</svg>
	</button>

	<!-- Accordion Body -->
	<div 	id={`${id}-body`} class={tw.accordionBody}>
		<slot />
	</div>

</li> 

```
</TabItem>


<TabItem label="Scripts">

```js "activeStyles" "maxHeight" "openDuration" "closeDuration"

const hs = `
	init
		set :accordionHeight to 0
		set :accordionOpen to false
		set :accordionBody to my @id + '-body'
		set :twirlIcon to my @id + '-twirl-icon'
		set accordionContent to the children of the #{:accordionBody}
		for item in accordionContent 
			increment :accordionHeight by the item's offsetHeight
		end -- for
		increment :accordionHeight by 45  -- to accomodate for py-4 
	end -- init

	on click from me
		if :accordionOpen is true then trigger closeAccordion on me
		otherwise trigger openAccordion on me
		end 
	end -- click

	on openAccordion
		add ${activeStyles} to me
		add .py-4 .border-t-2 to the  #{:accordionBody}
		if the :accordionHeight is greater than 300
			transition the #{:accordionBody}'s  *height to ${maxHeight}  using 'all ${openDuration} ease-in'
			add .overflow-y-auto to the #{:accordionBody}
		otherwise
			transition the #{:accordionBody} *height to :accordionHeight px using 'all ${openDuration} ease-in'
		end -- if > 300 px
		add .rotate-180 to the #{:twirlIcon}
		set :accordionOpen to true
		send closeOpenAccordions to the closest <ul/>
	end -- openAccordion

	on closeAccordion
		remove ${activeStyles} from me
		remove .py-4 .border-t-2 from the #{:accordionBody}
		remove .rotate-180 from the #{:twirlIcon}
		transition the #{:accordionBody} *height to 0 using 'all ${closeDuration} ease-out'
		set :accordionOpen to false
	end -- closeAccordion
`

```

</TabItem>

<TabItem label="Tailwind">

```js
const tw = {
	wrapper:'shadow-lg overflow-hidden ' + 
	'border-4 border-b-0 last-of-type:border-b-4 border-indigo-500 border-opacity-20  dark:border-gray-700 ' + 
	'first-of-type:rounded-t-xl last-of-type:rounded-b-xl',
	accordionHeader: twMerge('w-full flex justify-between items-center px-2 py-5 cursor-pointer ' +
		'font-bold text-lg text-left text-gray-900 dark:text-zinc-300 ' +
		'bg-blue-100 hover:bg-sky-950 hover:text-yellow-50 ' +
		'dark:bg-slate-900 dark:hover:bg-purple-950 dark:hover:text-fuchsia-100 ' + 
		'', headerStyles),
	accordionBody: twMerge('h-0 px-6 text-left  border-zinc-300 ' + 
		' bg-gray-100 text-slate-800 dark:bg-violet-50 dark:text-gray-900', bodyStyles),
	icon: 'size-6 shrink-0'
}

```
</TabItem>


<TabItem label="Everything">

```astro

---
import {twMerge} from 'tailwind-merge'

interface Props {
	id:string,   //a unique identifier allowing multiple AccordionItems on a page without collisions
	caption:string,   //the text display in the Accordion header
	prefix?:string   //a tick mark preceeding the caption
	maxHeight:string  //maximum open height (after which the body content scrolls vertically)
	headerStyles?:string   //override or add TW classes to  the header
	bodyStyles?:string   //override or add TW classes to the body
	activeHeaderStyles?:string //override, add, remove TW classes for headers of opened Accordions
	openDuration?:string   //transition timing when showing body content
	closeDuration?:string  //transition timing when hiding body content
}
const {
	id, 
	caption, 
	prefix='- ',
	maxHeight='300px',
	headerStyles,
	bodyStyles,
	activeHeaderStyles = 'bg-orange-100 dark:bg-blue-950',
	openDuration='260ms',
	closeDuration='400ms'
} = Astro.props


const tw = {
	wrapper:'shadow-lg overflow-hidden ' + 
	'border-4 border-b-0 last-of-type:border-b-4 border-indigo-500 border-opacity-20  dark:border-gray-700 ' + 
	'first-of-type:rounded-t-xl last-of-type:rounded-b-xl',
	accordionHeader: twMerge('w-full flex justify-between items-center px-2 py-5 cursor-pointer ' +
		'font-bold text-lg text-left text-gray-900 dark:text-zinc-300 ' +
		'bg-blue-100 hover:bg-sky-950 hover:text-yellow-50 ' +
		'dark:bg-slate-900 dark:hover:bg-purple-950 dark:hover:text-fuchsia-100 ' + 
		'', headerStyles),
	accordionBody: twMerge('h-0 px-6 text-left  border-zinc-300 ' + 
		' bg-gray-100 text-slate-800 dark:bg-violet-50 dark:text-gray-900', bodyStyles),
	icon: 'size-6 shrink-0'
}

function formatTWClasses(twClasses) {
    return twClasses.split(' ').map(twClass => '.' + twClass).join(' ');
}

const activeStyles = formatTWClasses(activeHeaderStyles)

const hs = `
	init
		set :accordionHeight to 0
		set :accordionOpen to false
		set :accordionBody to my @id + '-body'
		set :twirlIcon to my @id + '-twirl-icon'
		set accordionContent to the children of the #{:accordionBody}
		for item in accordionContent 
			increment :accordionHeight by the item's offsetHeight
		end -- for
		increment :accordionHeight by 45  -- to accomodate for py-4 
	end -- init

	on click from me
		if :accordionOpen is true then trigger closeAccordion on me
		otherwise trigger openAccordion on me
		end 
	end -- click

	on openAccordion
		add ${activeStyles} to me
		add .py-4 .border-t-2 to the  #{:accordionBody}
		if the :accordionHeight is greater than 300
			transition the #{:accordionBody}'s  *height to ${maxHeight}  using 'all ${openDuration} ease-in'
			add .overflow-y-auto to the #{:accordionBody}
		otherwise
			transition the #{:accordionBody} *height to :accordionHeight px using 'all ${openDuration} ease-in'
		end -- if > 300 px
		add .rotate-180 to the #{:twirlIcon}
		set :accordionOpen to true
		send closeOpenAccordions to the closest <ul/>
	end -- openAccordion

	on closeAccordion
		remove ${activeStyles} from me
		remove .py-4 .border-t-2 from the #{:accordionBody}
		remove .rotate-180 from the #{:twirlIcon}
		transition the #{:accordionBody} *height to 0 using 'all ${closeDuration} ease-out'
		set :accordionOpen to false
	end -- closeAccordion
`



/* Transition calls and toggle .rotate-180 gives an error when using an element reference stored in local variable
You must provide an actual selector instead.

If you add padding to the default styles, the accordion accordionBody has a height equal to the padding
even if you set h-0.   So, padding must be added/removed for the accordion accordionBody to close up fully.
The recalcHeight of accordion accordionBody must also take in account the vertical padding value*/
---


<li class={tw.wrapper}>

	<!-- Accordion Header -->
	<button 
		id={id} 
		class={tw.accordionHeader} 
		script={hs}>
			<span>{prefix}{caption}</span>
			<!-- TwirlIcon -->
			<svg id={`${id}-twirl-icon`} class={tw.icon} fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'>
					<path fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'></path>
				</svg>
	</button>

	<!-- Accordion Body -->
	<div 	id={`${id}-body`} class={tw.accordionBody}>
		<slot />
	</div>

</li> 

```
</TabItem>

</Tabs>




##  Usage

Accordion controls are often used in FAQ or Info sections of a web site.  The advantages of using an Accordion is to hide the majority of the content until the user needs to see it.  By just presenting the content title in the header the user is prompted to explore the content by clicking on the header.   Meanwhile, the extra text in the body of the Accordion is hidden until requested.

This, of course, makes Accordions an ideal choice for lazy loading content. To enhance the UX, content for the Accordion body does not need to be loaded until selected by the user.   Using HTMX, lazy loading is easily done by listening for the click event and then reaching out to the server for html which is loaded into the Accordion body.   The transition animation is done in response to the htmx:load event.



---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import Searchbox from '../components/search/searchbox.astro'

import { twMerge } from 'tailwind-merge'
const title = 'Test Search'


const tw = {
	table:'mx-auto my-4 max-w-max ',
  search:{
		wrapper: 'not-content relative top-8 ' +  
		'flex justify-between items-center',
		resetButton: 'cursor-pointer py-2 px-6 dark:bg-indigo-600 text-zinc-200 rounded-lg'
	},
	speech:{
		wrapper: 'w-full relative top-16 mx-auto max-h-[50rem] overflow-y-auto ' +  'dark:bg-gray-950 rounded-t-lg',
		title: 'text-center text-balance text-indigo-600 ' + 'dark:text-amber-100/80 p-4 border-b-2 border-gray-300 ' + ' dark:border-gray-700',
		transcript: 'not-content mt-8 p-4'
	},
}	

const defaultTitle = 'Click on the any of the famous orations listed above.'
const defaultTranscript = 'The full transcript will be displayed here. Use the Search box to dynamnically highlight any part of the transcript'

const hs = {
	doReset:`on load or click put "${defaultTitle}" into #{'speech-title'} then
		put "${defaultTranscript}" into #{'speech-transcript'}`,
}

---

<StarlightPage frontmatter={{title: title}}>


<div class="w-10/12 mx-auto">
	<h3 class="text-center">Famous Speeches in the English Language</h3>
	<h4 class="pt-8 pb-4 text-center">Highlight Words from Orations that Helped Shape our World.</h4>
	
</div>




	<table class={tw.table}
				hx-trigger="load"  
				 hx-get="/api/speeches/"
	       hx-target="<tbody/>"
	       hx-swap="innerHTML">
		<thead>
			<tr><th>Speaker</th><th>Title</th><th>Date</th></tr>
		</thead>
		<tbody></tbody>
	</table>

	<div class={tw.search.wrapper}>
		<Searchbox/>
		<button class={tw.search.resetButton}
		script={hs.doReset}
		>Reset</button>
	</div>


	<div class={tw.speech.wrapper}>

	  <h4 id="speech-title" class={tw.speech.title}
		></h4>
		<div id="speech-transcript" class={tw.speech.transcript}
	
		  >
		</div>
	</div>



</StarlightPage>

